# マルミエ (Marumie)

医療機関向け広告分析ダッシュボード - GitHub Pages 静的サイト

## 概要

リスティング広告・予約ログ・アンケート調査データをCSVから読み込み、ブラウザ内で可視化するSPAアプリケーションです。すべてのデータ処理はクライアントサイドで実行され、サーバーへのデータ送信は行いません。

## 機能

### Phase 1-5 (実装完了) ✅
- プロジェクト基盤構築
- 型定義 (TypeScript)
- JST日付処理ユーティリティ
- CSVパーサー (内科・胃カメラ・外来アンケート)
- データ検証・変換ロジック
- データストア (React Context)
- CSV アップロード UI
- 月次フィルタ
- リスティング分析ビュー (日別カード・時間帯別CV・月次サマリー)
- アンケート分析ビュー (円グラフ・データテーブル)

### Phase 6 (実装完了) ✅
- GitHub Actions 自動デプロイ
- GitHub Pages 設定
### Phase 7 (実装完了) ✅
- JSON/統合CSVスナップショット保存と自動復元
- PDFレポート出力（セクション選択・向き/カラーモード指定）


## 技術スタック

- **React 18** + **TypeScript**
- **Vite** (ビルドツール)
- **PapaParse** (CSV解析)
- **date-fns** + **date-fns-tz** (JST日付処理)
- **Recharts** (チャート可視化)

## 開発

```bash
# 依存パッケージインストール
npm install

# 開発サーバー起動
npm run dev

# ビルド
npm run build

# プレビュー
npm run preview
```

## データ要件

### 対象期間
2025-10-02 (JST) 以降のデータを解析対象とします。

### CSVフォーマット

#### リスティング広告 - 内科
```
日付,金額,CV,CVR,CPA,0時,1時,...,23時
2025-10-02,12301,16,22%,768,0,0,0,...,0
```

#### リスティング広告 - 胃カメラ
現在のCSVは列名不一致のため、テンプレート通りの列名が必要です。

#### アンケート調査 - 外来
```
日付,ネット検索(Google),ネット検索(yahoo),...,発熱外来(Google)
2025/10/2,8,0,...,4
```

## デプロイ

mainブランチへのpushで自動的にGitHub Pagesにデプロイされます。

**URL**: https://yusuke0018.github.io/marumie/

### セットアップ手順

1. GitHubリポジトリの Settings → Pages
2. Source: "GitHub Actions" を選択
3. mainブランチにpush

## 今後の拡張予定

- 予約ログCSVパーサー
- 相関分析ビュー (リスティングCV vs 予約件数)
- 大腸カメラリスティング対応
- 内視鏡アンケート対応
- データエクスポート機能

## ライセンス

Private
